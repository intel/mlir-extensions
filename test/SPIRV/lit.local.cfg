bf16_tests = [
              'CppEdsl.Convolution_BF16.mlir',
              'OpTest.ArgMax_BF16.mlir',
              'OpTest.BroadcastNonNumpy_BF16.mlir',
              'OpTest.EltwiseAdd_BF16.mlir',
              'OpTest.GEMM_BF16.mlir',
              'OpTest.GEMM_BF16_ACC_F32.mlir',
             ]

local_excludes = []

# Exclude tests that are known to fail in FS simulator
fs_simulator_excludes = [
                    'OpTest.EltwiseAdd_FLOAT32_explicit_memory_copy.mlir',
                 ]
slow_simulator_tests = [
    'CppEdsl.Convolution_BF16.mlir',
    'OpTest.ArgMax_BF16.mlir',
    'OpTest.Argmax_FLOAT32.mlir',
    'OpTest.Conv2D_FLOAT32.mlir',
    'OpTest.EltwiseAdd_BF16.mlir',
    'OpTest.EltwiseAdd_FLOAT32.mlir',
    'OpTest.ExplicitPadding_FLOAT32.mlir',
    'OpTest.Quantize_FLOAT32.mlir',
    'OpTest.SlmDynamic.mlir',
    'OpTest.Softmax_FLOAT32.mlir',
    'OpTest.MaxPool1D_INT64.mlir',
    'OpTest.GEMM_BF16.mlir',
    'OpTest.GEMM_F16_ACC_F32.mlir',
]

if(config.imex_enable_fs_simulator):
  local_excludes += fs_simulator_excludes

if(not config.imex_enable_excluded_tests):
    config.excludes.update(local_excludes)

if(not config.imex_enable_bf16_tests):
    config.excludes.update(bf16_tests)

if(config.imex_enable_fs_simulator):
    config.excludes.update(slow_simulator_tests)
