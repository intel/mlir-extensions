local_excludes = [
                  "sg_gemm_1kx1kx1k_i8_i8_i32.mlir",
                  "sg_gemm_2x2_1kx1kx1k_f16_f16_f32.mlir",
                  "wg_gemm_4kx4kx4k_f16_f16_f32.mlir",
                  "wg_gemm_1kx1kx1k_i8_i8_i32.mlir",
                  "wg_gemm_1kx1kx1k_f16_f16_f32.mlir",
                  "wg_gemm_4kx4kx4k_i8_i8_i32.mlir",
                 ]

slow_simulator_tests = [
    'sg_gemm_1kx1kx1k_f16_f16_f16_blk_16x32x32.mlir',
    'sg_gemm_1kx1kx1k_f16_f16_f32_transpose_b.mlir',
    'sg_gemm_1kx1kx1k_f16_f16_f32_transpose_a.mlir',
    'sg_gemm_1kx1kx1k_f16_f16_f32_transpose_col_major_b.mlir',
    'sg_gemm_1kx1kx1k_f32_f32_f32_with_truncf_a_b.mlir',
    'sg_gemm_1kx1kx1k_transposed_b_preop_postop_bf16_bf16_f32.mlir',
    'sg_gemm_1kx1kx1k_preop_postop_bf16_bf16_f32.mlir',
    'sg_gemm_1kx1kx1k_f16_f16_f32.mlir',
    'sg_gemm_pre_broadcast_a.mlir',
    'sg_gemm_pre_broadcast_b.mlir',
    'sg_gemm_preop_a.mlir',
    'sg_gemm_preop_b.mlir',
    'wg_gemm_1k_btranspose.mlir',
    'wg_gemm_4k_8x4_sg_layout.mlir',
]

if(config.imex_enable_fs_simulator):
  local_excludes += slow_simulator_tests

if(not config.imex_enable_excluded_tests):
    config.excludes.update(local_excludes)
