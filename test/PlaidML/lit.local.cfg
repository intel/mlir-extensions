# Disabling GEMM_FLOAT32, GEMV_FLOAT32 and Shape tests because it fails with latest LLVM commit
# 08a61eb01172054fc5f8c78ff527f01d9768569b

local_excludes = [
                  'CppEdsl.Atan.mlir',
                  'CppEdsl.Erf.mlir',
                  'OpTest.BinaryCrossentropy.mlir',
                  'OpTest.DotF16.mlir',
                  'OpTest.MnistCnn.mlir',
                  'OpTest.SinH.mlir',
                  'OpTest.Tan.mlir',
                  'CppEdsl.ConvI8.mlir',
                  'CppEdsl.DefractLong.mlir',
                  'OpTest.HigherPrecisioConstants.mlir',
                  'OpTest.EltwiseAdd.dynamic.mlir',
                  'OpTest.Sum.dynamic.mlir',
                  'OpTest.GEMM_FLOAT32.mlir',
                  'OpTest.GEMV_FLOAT32.mlir',
                  'OpTest.Shape.mlir'
                 ]
slow_simulator_tests = [
    'CppEdsl.Add.mlir',
    'CppEdsl.BigDot.mlir',
    'CppEdsl.Cast.mlir',
    'CppEdsl.Convolution.mlir',
    'CppEdsl.Cos.mlir',
    'CppEdsl.DupOut.mlir',
    'CppEdsl.Dot.mlir',
    'CppEdsl.EltwiseMod.mlir',
    'OpTest.ComplexConv2D.mlir',
    'OpTest.Conv1D.mlir',
    'OpTest.Conv2DDilated.mlir',
    'OpTest.Dot.mlir',
    'OpTest.BroadcastNonNumpy.mlir',
    'OpTest.GEMM_INT32.mlir',
    'OpTest.Layer.mlir',
    'OpTest.LayerEmbeddedConst.mlir',
    'OpTest.Pow.mlir',
]

fs_sim_only_tests = [
    'CppEdsl.Convolution_BF16.mlir',
    'OpTest.BroadcastNonNumpy_BF16.mlir',
    'OpTest.Relu_BF16.mlir',
    'OpTest.Transpose_BF16.mlir',
]

# Exclude fs_sim only tests if fs_simulator is not enabled
if(not config.imex_enable_fs_simulator):
    config.excludes.update(fs_sim_only_tests)

if(not config.imex_enable_excluded_tests):
    config.excludes.update(local_excludes)

if(config.imex_enable_fs_simulator):
    config.excludes.update(slow_simulator_tests)
